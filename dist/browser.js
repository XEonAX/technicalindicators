(function(e){"use strict";function t(e){return xe[e]}function r(e){var r=t("precision");return r?parseFloat(e.toPrecision(r)):e}function o(e){fe.reverseInputs(e);var t=new ye(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function n(e){fe.reverseInputs(e);var t=new Pe(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function a(e){fe.reverseInputs(e);var t=new ke(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function l(e){fe.reverseInputs(e);var t=new Ie(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function s(e){fe.reverseInputs(e);var t=new Oe(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function u(e){fe.reverseInputs(e);var t=new Ve(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function p(e){fe.reverseInputs(e);var t=new Se(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function i(e){fe.reverseInputs(e);var t=new Ee(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function h(e){fe.reverseInputs(e);var t=new Be(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function g(e){fe.reverseInputs(e);var t=new Te(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function v(e){fe.reverseInputs(e);var t=new ze(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function c(e){fe.reverseInputs(e);var t=new We(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function d(e){fe.reverseInputs(e);var t=new Ne(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function _(e){fe.reverseInputs(e);var t=new Je(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function x(e){fe.reverseInputs(e);var t=new Ye(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function m(e){fe.reverseInputs(e);var t=new $e(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function f(e){fe.reverseInputs(e);var t=new tt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function w(e){fe.reverseInputs(e);var t=new ot(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function y(e){fe.reverseInputs(e);var t=new at(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function P(e){fe.reverseInputs(e);var t=new st(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function k(e){fe.reverseInputs(e);var t=new pt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function I(e){fe.reverseInputs(e);var t=new ht(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function O(e){fe.reverseInputs(e);var t=new vt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function b(e){fe.reverseInputs(e);var t=new dt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function V(e){fe.reverseInputs(e);var t=new xt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function C(e){fe.reverseInputs(e);var t=new ft(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function S(e,t,r,o){return e<=r&&t>=r||r<=e&&o>=e}function q(e){fe.reverseInputs(e);var t=new yt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function E(e){fe.reverseInputs(e);var t=new Ot(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function A(e){fe.reverseInputs(e);var t=new Vt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function B(e){fe.reverseInputs(e);var t=new St(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function H(e){fe.reverseInputs(e);var t=new Et(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function T(e){fe.reverseInputs(e);var t=new Bt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function D(e){fe.reverseInputs(e);var t=new Tt(e).result;return e.reversedInput&&(t.open.reverse(),t.high.reverse(),t.low.reverse(),t.close.reverse(),t.volume.reverse(),t.timestamp.reverse()),fe.reverseInputs(e),t}function L(e){fe.reverseInputs(e);var t=new Lt(e).result;return e.reversedInput&&(t.open.reverse(),t.high.reverse(),t.low.reverse(),t.close.reverse(),t.volume.reverse(),t.timestamp.reverse()),fe.reverseInputs(e),t}function z(e){return new Yt().hasPattern(e)}function M(e){return new Zt().hasPattern(e)}function j(e){return new $t().hasPattern(e)}function R(e){return new er().hasPattern(e)}function F(e,t){var r=function(e,t,r){return e+(t-e)*r},o=[],n=new Number((e.length-1)/(t-1));o[0]=e[0];for(var a=1;a<t-1;a++){var l=a*n,s=new Number(Math.floor(l)).toFixed(),u=new Number(Math.ceil(l)).toFixed();o[a]=r(e[s],e[u],l-s)}return o[t-1]=e[e.length-1],o}function U(e){var t=e.reduce(function(e,t){return e+t*t},0),r=se(t);return e.map(function(e){return e/r})}function W(){return br(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!qr){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(!Er){e.next=4;break}return e.abrupt("return",Sr);case 4:return Er=!0,Sr=new Promise(function(e){return br(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Vr){t.next=10;break}return Mt=require("@tensorflow/tfjs"),console.log("Nodejs Environment detected "),r=require("@tensorflow/tfjs-node"),o=require("path").resolve(__dirname,"../tf_model/model.json"),t.next=7,Mt.loadModel(r.io.fileSystem(o));case 7:zt=t.sent,t.next=27;break;case 10:if("undefined"!=typeof window.tf){t.next=16;break}return qr=!1,Er=!1,console.log("Tensorflow js not imported, pattern detection may not work"),e(!0),t.abrupt("return");case 16:return Mt=window.tf,console.log("Browser Environment detected ",Mt),console.log("Loading model ...."),t.next=21,Mt.loadModel("/tf_model/model.json");case 21:return zt=t.sent,qr=!0,Er=!1,setTimeout(e,1e3),console.log("Loaded model"),t.abrupt("return");case 27:return qr=!0,Er=!1,e(!0),t.abrupt("return");case 31:case"end":return t.stop();}},t,this)}))}),e.next=8,Sr;case 8:return e.abrupt("return");case 9:case"end":return e.stop();}},e,this)}))}function K(e){return br(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,o,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return 300>e.values.length&&console.warn("Pattern detector requires atleast 300 data points for a reliable prediction, received just ",e.values.length),fe.reverseInputs(e),r=e.values,t.next=7,zt.predict(Mt.tensor2d([U(F(r,400))]));case 7:return o=t.sent,n=Mt.argMax(o,1).get(0),fe.reverseInputs(e),t.abrupt("return",{patternId:n,pattern:Cr[n],probability:100*o.get(0,4)});case 11:case"end":return t.stop();}},t,this)}))}function G(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.DB);case 4:case"end":return r.stop();}},r,this)}))}function N(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.DT);case 4:case"end":return r.stop();}},r,this)}))}function X(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.HS);case 4:case"end":return r.stop();}},r,this)}))}function J(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.IHS);case 4:case"end":return r.stop();}},r,this)}))}function Q(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.TU);case 4:case"end":return r.stop();}},r,this)}))}function Y(t){return br(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,K(t);case 2:return o=r.sent,r.abrupt("return",o.patternId===e.AvailablePatterns.TD);case 4:case"end":return r.stop();}},r,this)}))}function Z(e){fe.reverseInputs(e);var t=new Hr(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function $(e){fe.reverseInputs(e);var t=new Lr(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function ee(e){fe.reverseInputs(e);var t=new jr(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function te(e){fe.reverseInputs(e);var t=new Fr(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function re(e){fe.reverseInputs(e);var t=new Wr(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t}function oe(){return["sma","ema","wma","wema","macd","rsi","bollingerbands","adx","atr","truerange","roc","kst","psar","stochastic","williamsr","adl","obv","trix","cci","awesomeoscillator","forceindex","vwap","volumeprofile","renko","heikinashi","stochasticrsi","mfi","averagegain","averageloss","highest","lowest","sum","FixedSizeLinkedList","sd","bullish","bearish","abandonedbaby","doji","bearishengulfingpattern","bullishengulfingpattern","darkcloudcover","downsidetasukigap","dragonflydoji","gravestonedoji","bullishharami","bearishharami","bullishharamicross","bearishharamicross","eveningdojistar","eveningstar","morningdojistar","morningstar","bullishmarubozu","bearishmarubozu","piercingline","bullishspinningtop","bearishspinningtop","threeblackcrows","threewhitesoldiers","bullishhammerstick","bearishhammerstick","bullishinvertedhammerstick","bearishinvertedhammerstick","hammerpattern","hammerpatternunconfirmed","hangingman","hangingmanunconfirmed","shootingstar","shootingstarunconfirmed","tweezertop","tweezerbottom","predictPattern","hasDoubleBottom","hasDoubleTop","hasHeadAndShoulder","hasInverseHeadAndShoulder","isTrendingUp","isTrendingDown","ichimokucloud","keltnerchannels","chandelierexit","crossup","crossdown","crossover"]}var ne=Math.min,ae=Math.max,le=Math.abs,se=Math.sqrt,ue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},pe=function(){function e(e,t){for(var r,o=0;o<t.length;o++)r=t[o],r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),ie=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},he=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},ge=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},ve=function e(t,r,o){ue(this,e),this.next=o,o&&(o.prev=this),this.prev=r,r&&(r.next=this),this.data=t},ce=function(){function e(){ue(this,e),this._length=0}return pe(e,[{key:"push",value:function(e){this._tail=new ve(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}},{key:"pop",value:function(){var e=this._tail;if(0!==this._length)return(this._length--,0===this._length)?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}},{key:"shift",value:function(){var e=this._head;if(0!==this._length)return(this._length--,0===this._length)?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}},{key:"unshift",value:function(e){this._head=new ve(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++}},{key:"unshiftCurrent",value:function(){var e=this._current;return e===this._head||2>this._length?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}},{key:"removeCurrent",value:function(){var e=this._current;if(0!==this._length)return(this._length--,0===this._length)?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}},{key:"resetCursor",value:function(){return this._current=this._next=this._head,this}},{key:"next",value:function(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data}},{key:"head",get:function(){return this._head&&this._head.data}},{key:"tail",get:function(){return this._tail&&this._tail.data}},{key:"current",get:function(){return this._current&&this._current.data}},{key:"length",get:function(){return this._length}}]),e}(),de=function(e){function t(e,r,o,n){ue(this,t);var a=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(a.size=e,a.maintainHigh=r,a.maintainLow=o,a.maintainSum=n,a.totalPushed=0,a.periodHigh=0,a.periodLow=Infinity,a.periodSum=0,!e||"number"!=typeof e)throw"Size required and should be a number.";return a._push=a.push,a.push=function(e){this.add(e),this.totalPushed++},a}return ie(t,e),pe(t,[{key:"add",value:function(e){this.length===this.size?(this.lastShift=this.shift(),this._push(e),this.maintainHigh&&this.lastShift==this.periodHigh&&this.calculatePeriodHigh(),this.maintainLow&&this.lastShift==this.periodLow&&this.calculatePeriodLow(),this.maintainSum&&(this.periodSum-=this.lastShift)):this._push(e),this.maintainHigh&&this.periodHigh<=e&&(this.periodHigh=e),this.maintainLow&&this.periodLow>=e&&(this.periodLow=e),this.maintainSum&&(this.periodSum+=e)}},{key:"iterator",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.resetCursor();case 1:if(!this.next()){e.next=6;break}return e.next=4,this.current;case 4:e.next=1;break;case 6:case"end":return e.stop();}},e,this)})},{key:"calculatePeriodHigh",value:function(){for(this.resetCursor(),this.next()&&(this.periodHigh=this.current);this.next();)this.periodHigh<=this.current&&(this.periodHigh=this.current)}},{key:"calculatePeriodLow",value:function(){for(this.resetCursor(),this.next()&&(this.periodLow=this.current);this.next();)this.periodLow>=this.current&&(this.periodLow=this.current)}}]),t}(ce),_e=function e(){ue(this,e),this.open=[],this.high=[],this.low=[],this.close=[],this.volume=[],this.timestamp=[]},xe={},me=function e(){ue(this,e)},fe=function(){function e(t){ue(this,e),this.format=t.format||r}return pe(e,[{key:"getResult",value:function(){return this.result}}],[{key:"reverseInputs",value:function(e){e.reversedInput&&(e.values?e.values.reverse():void 0,e.open?e.open.reverse():void 0,e.high?e.high.reverse():void 0,e.low?e.low.reverse():void 0,e.close?e.close.reverse():void 0,e.volume?e.volume.reverse():void 0,e.timestamp?e.timestamp.reverse():void 0)}}]),e}(),we=function(e){function t(e,r){ue(this,t);var o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.period=e,o.values=r,o}return ie(t,e),t}(me),ye=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.period=e.period,r.price=e.values;var o=regeneratorRuntime.mark(function e(t){var r,o,n,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ce,o=0,n=1,void(e.next=5);case 5:a=e.sent,r.push(0);case 7:return n<t?(n++,r.push(a),o+=a):(o=o-r.shift()+a,l=o/t,r.push(a)),e.next=11,l;case 11:a=e.sent,e.next=7;break;case 14:case"end":return e.stop();}},e,this)});return r.generator=o(r.period),r.generator.next(),r.result=[],r.price.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(r.format(t.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(fe);ye.calculate=o;var Pe=function(e){function t(e){ue(this,t);var r,o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,a=e.values;o.result=[],r=new ye({period:n,values:[]});var l=regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(void 0==o||void 0===t){e.next=11;break}return o=(t-o)*(2/(n+1))+o,e.next=8,o;case 8:t=e.sent,e.next=19;break;case 11:return void(e.next=13);case 13:if(t=e.sent,o=r.nextValue(t),!o){e.next=19;break}return e.next=18,o;case 18:t=e.sent;case 19:e.next=3;break;case 21:case"end":return e.stop();}},e,this)});return o.generator=l(),o.generator.next(),o.generator.next(),a.forEach(function(e){var t=o.generator.next(e);void 0!=t.value&&o.result.push(o.format(t.value))}),o}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(fe);Pe.calculate=n;var ke=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.period,n=e.values;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new ce,r=o*(o+1)/2;case 2:if(!(t.length<o)){e.next=11;break}return e.t0=t,void(e.next=7);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=19;break;case 11:for(t.resetCursor(),n=0,a=1;a<=o;a++)n+=t.next()*a/r;return e.next=16,n;case 16:l=e.sent,t.shift(),t.push(l);case 19:e.next=2;break;case 21:case"end":return e.stop();}},e,this)})(),r.generator.next(),n.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(r.format(t.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(fe);ke.calculate=a;var Ie=function(e){function t(e){ue(this,t);var r,o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,a=e.values;o.result=[],r=new ye({period:n,values:[]});var l=regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(void 0==o||void 0===t){e.next=11;break}return o=(t-o)*(1/n)+o,e.next=8,o;case 8:t=e.sent,e.next=19;break;case 11:return void(e.next=13);case 13:if(t=e.sent,o=r.nextValue(t),void 0===o){e.next=19;break}return e.next=18,o;case 18:t=e.sent;case 19:e.next=3;break;case 21:case"end":return e.stop();}},e,this)});return o.generator=l(),o.generator.next(),o.generator.next(),a.forEach(function(e){var t=o.generator.next(e);void 0!=t.value&&o.result.push(o.format(t.value))}),o}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(fe);Ie.calculate=l;var Oe=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.period=e.period,r.price=e.values;var o=regeneratorRuntime.mark(function e(t){var r,o,n,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ce,o=0,n=1,void(e.next=5);case 5:a=e.sent,l=0;case 7:return n<t?(n++,o+=a,l=void 0):n==t?(n++,o+=a,l=o):l=l-l/t+a,e.next=11,l;case 11:a=e.sent,e.next=7;break;case 14:case"end":return e.stop();}},e,this)});return r.generator=o(r.period),r.generator.next(),r.result=[],r.price.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(r.format(t.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(fe);Oe.calculate=s;var be=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.values=e,r.SimpleMAOscillator=!0,r.SimpleMASignal=!0,r}return ie(t,e),t}(me),Ve=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.SimpleMAOscillator?ye:Pe,n=e.SimpleMASignal?ye:Pe,a=new o({period:e.fastPeriod,values:[],format:function(e){return e}}),l=new o({period:e.slowPeriod,values:[],format:function(e){return e}}),s=new n({period:e.signalPeriod,values:[],format:function(e){return e}}),u=r.format;return r.result=[],r.generator=regeneratorRuntime.mark(function t(){var r,o,n,p,i,h,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.slowPeriod)){t.next=10;break}return void(t.next=5);case 5:return o=t.sent,h=a.nextValue(o),g=l.nextValue(o),r++,t.abrupt("continue",1);case 10:return h&&g&&(n=h-g,p=s.nextValue(n)),i=n-p,t.next=14,{MACD:u(n),signal:p?u(p):void 0,histogram:isNaN(i)?void 0:u(i)};case 14:o=t.sent,h=a.nextValue(o),g=l.nextValue(o),t.next=1;break;case 19:case"end":return t.stop();}},t,this)})(),r.generator.next(),e.values.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;return t}}]),t}(fe);Ve.calculate=u;var Ce=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Se=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period,a=r.format;return r.generator=regeneratorRuntime.mark(function e(t){var r,o,n,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:return r=e.sent,o=1,n=0,u=r,void(e.next=8);case 8:r=e.sent;case 9:return s=r-u,s=0<s?s:0,0<s&&(n+=s),o<t?o++:void 0==l?l=n/t:l=(l*(t-1)+s)/t,u=r,l=void 0===l?void 0:a(l),e.next=18,l;case 18:r=e.sent,e.next=9;break;case 21:case"end":return e.stop();}},e,this)})(n),r.generator.next(),r.result=[],o.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);Se.calculate=p;var qe=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Ee=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period,a=r.format;return r.generator=regeneratorRuntime.mark(function e(t){var r,o,n,l,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:return r=e.sent,o=1,n=0,u=r,void(e.next=8);case 8:r=e.sent;case 9:return s=u-r,s=0<s?s:0,0<s&&(n+=s),o<t?o++:void 0==l?l=n/t:l=(l*(t-1)+s)/t,u=r,l=void 0===l?void 0:a(l),e.next=18,l;case 18:r=e.sent,e.next=9;break;case 21:case"end":return e.stop();}},e,this)})(n),r.generator.next(),r.result=[],o.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);Ee.calculate=i;var Ae=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Be=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.period,n=e.values,a=new Se({period:o,values:[]}),l=new Ee({period:o,values:[]}),s=1;return r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return r=a.nextValue(t),o=l.nextValue(t),void 0!==r&&void 0!==o&&(0===o?u=100:0===r?u=0:(n=r/o,n=isNaN(n)?0:n,u=parseFloat((100-100/(1+n)).toFixed(2)))),s++,e.next=10,u;case 10:t=e.sent,e.next=3;break;case 13:case"end":return e.stop();}},e,this)})(o),r.generator.next(),r.result=[],n.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);Be.calculate=h;var He=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Te=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.period,n=e.values,a=new ye({period:o,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,l,s,u,p,i,h,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=new de(o);;return void(e.next=4);case 4:t=e.sent;case 5:if(n.push(t),r=a.nextValue(t),!r){e.next=30;break}for(s=0,u=!0,p=!1,i=void 0,e.prev=13,h=n.iterator()[Symbol.iterator]();!(u=(g=h.next()).done);u=!0)v=g.value,s+=Math.pow(v-r,2);e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](13),p=!0,i=e.t0;case 21:e.prev=21,e.prev=22,!u&&h.return&&h.return();case 24:if(e.prev=24,!p){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(21);case 29:l=se(s/o);case 30:return e.next=32,l;case 32:t=e.sent,e.next=5;break;case 35:case"end":return e.stop();}},e,this,[[13,17,21,29],[22,,24,28]])})(),r.generator.next(),n.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(r.format(t.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return this.format(t.value)}}]),t}(fe);Te.calculate=g;var De=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Le=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),ze=function(e){function t(e){ue(this,t);var r,o,n=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.period,l=e.values,s=e.stdDev,u=n.format;return n.result=[],r=new ye({period:a,values:[],format:function(e){return e}}),o=new Te({period:a,values:[],format:function(e){return e}}),n.generator=regeneratorRuntime.mark(function e(){var t,n,a,l,p,i,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:n=e.sent;case 3:return a=r.nextValue(n),l=o.nextValue(n),a&&(p=u(a),i=u(a+l*s),h=u(a-l*s),g=u((n-h)/(i-h)),t={middle:p,upper:i,lower:h,pb:g}),e.next=9,t;case 9:n=e.sent,e.next=3;break;case 12:case"end":return e.stop();}},e,this)})(),n.generator.next(),l.forEach(function(e){var t=n.generator.next(e);void 0!=t.value&&n.result.push(t.value)}),n}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);ze.calculate=v;var Me=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),je=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=r.format;if(o.length!=n.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return o&&(n=r.high-o.high,l=o.low-r.low,t=a(l>n&&0<l?l:0)),o=r,e.next=8,t;case 8:r=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var a=r.generator.next({high:n[t],low:o[t]});void 0!==a.value&&r.result.push(a.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}],[{key:"calculate",value:function(e){fe.reverseInputs(e);var r=new t(e).result;return e.reversedInput&&r.reverse(),fe.reverseInputs(e),r}}]),t}(fe),Re=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Fe=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=r.format;if(o.length!=n.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return o&&(n=r.high-o.high,l=o.low-r.low,t=a(n>l&&0<n?n:0)),o=r,e.next=8,t;case 8:r=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var a=r.generator.next({high:n[t],low:o[t]});void 0!==a.value&&r.result.push(a.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}],[{key:"calculate",value:function(e){fe.reverseInputs(e);var r=new t(e).result;return e.reversedInput&&r.reverse(),fe.reverseInputs(e),r}}]),t}(fe),Ue=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),We=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=r.format;if(o.length!=n.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(void 0!=r){e.next=9;break}return r=t.close,e.next=8,o;case 8:t=e.sent;case 9:return o=ae(t.high-t.low,isNaN(le(t.high-r))?0:le(t.high-r),isNaN(le(t.low-r))?0:le(t.low-r)),r=t.close,void 0!=o&&(o=l(o)),e.next=14,o;case 14:t=e.sent,e.next=3;break;case 17:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!=l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);We.calculate=c;var Ke=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Ge=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Ne=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.period,s=r.format,u=new Fe({high:[],low:[]}),p=new je({high:[],low:[]}),i=new Oe({period:l,values:[],format:function(e){return e}}),h=new Oe({period:l,values:[],format:function(e){return e}}),g=new Oe({period:l,values:[],format:function(e){return e}}),v=new Ie({period:l,values:[],format:function(e){return e}}),c=new We({low:[],high:[],close:[]});if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],Ge,r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,l,s,d,_,x,m,f,w,y,P,k,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=0,o=0,n=0,a=0;case 7:if(x=c.nextValue(t),m=u.nextValue(t),f=p.nextValue(t),void 0!==x){e.next=16;break}return void(e.next=14);case 14:return t=e.sent,e.abrupt("continue",7);case 16:return w=g.nextValue(x),y=i.nextValue(m),P=h.nextValue(f),void 0!=w&&void 0!=y&&void 0!=P&&(l=100*y/w,s=100*P/w,k=le(l-s),I=l+s,d=100*(k/I),_=v.nextValue(d)),e.next=22,{adx:_,pdi:l,mdi:s};case 22:t=e.sent,e.next=7;break;case 25:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!=l.value&&void 0!=l.value.adx&&r.result.push({adx:s(l.value.adx),pdi:s(l.value.pdi),mdi:s(l.value.mdi)})}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t&&void 0!=t.adx)return{adx:this.format(t.adx),pdi:this.format(t.pdi),mdi:this.format(t.mdi)}}}]),t}(fe);Ne.calculate=d;var Xe=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Je=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.period,s=r.format;if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";var u=new We({low:[],high:[],close:[]}),p=new Ie({period:l,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return o=u.nextValue({low:t.low,high:t.high,close:t.close}),r=void 0===o?void 0:p.nextValue(o),e.next=8,r;case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!==l.value&&r.result.push(s(l.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);Je.calculate=_;var Qe=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Ye=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.period,n=e.values;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new de(o),void(e.next=4);case 4:n=e.sent;case 5:return r.push(n),t<o?t++:a=100*((n-r.lastShift)/r.lastShift),e.next=10,a;case 10:n=e.sent,e.next=5;break;case 13:case"end":return e.stop();}},e,this)})(),r.generator.next(),n.forEach(function(e){var t=r.generator.next(e);void 0==t.value||isNaN(t.value)||r.result.push(r.format(t.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value&&!isNaN(t.value))return this.format(t.value)}}]),t}(fe);Ye.calculate=x;var Ze=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),$e=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.ROCPer1,a=e.ROCPer2,l=e.ROCPer3,s=e.ROCPer4,u=e.SMAROCPer1,p=e.SMAROCPer2,i=e.SMAROCPer3,h=e.SMAROCPer4,g=e.signalPeriod,v=new Ye({period:n,values:[]}),c=new Ye({period:a,values:[]}),d=new Ye({period:l,values:[]}),_=new Ye({period:s,values:[]}),x=new ye({period:u,values:[],format:function(e){return e}}),m=new ye({period:p,values:[],format:function(e){return e}}),f=new ye({period:i,values:[],format:function(e){return e}}),w=new ye({period:h,values:[],format:function(e){return e}}),y=new ye({period:g,values:[],format:function(e){return e}}),P=r.format;r.result=[];var k=ae(n+u,a+p,l+i,s+h);return r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,l,s,u,p,i,h,g,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,void(e.next=3);case 3:r=e.sent,o=void 0,n=void 0,a=void 0,l=void 0,s=void 0,u=void 0,p=void 0;case 6:return i=v.nextValue(r),h=c.nextValue(r),g=d.nextValue(r),I=_.nextValue(r),n=void 0===i?void 0:x.nextValue(i),a=void 0===h?void 0:m.nextValue(h),l=void 0===g?void 0:f.nextValue(g),s=void 0===I?void 0:w.nextValue(I),t<k?t++:o=1*n+2*a+3*l+4*s,u=void 0===o?void 0:y.nextValue(o),p=void 0===o?void 0:{kst:P(o),signal:u?P(u):void 0},e.next=20,p;case 20:r=e.sent,e.next=6;break;case 23:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);$e.calculate=m;var et=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),tt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high||[],n=e.low||[],a=regeneratorRuntime.mark(function e(t,r){var o,n,a,l,s,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,n=void 0,a=void 0,l=void 0,s=!0,u=t,void(e.next=5);case 5:p=e.sent;case 6:return o?(a+=u*(n-a),s?(a=ne(a,l.low,p.low),o.high>n&&(n=o.high,u=ne(u+t,r))):(a=ae(a,l.high,p.high),o.low<n&&(n=o.low,u=ne(u+t,r))),(s&&o.low<a||!s&&o.high>a)&&(u=t,a=n,s=!s,n=s?o.high:o.low)):(a=p.low,n=p.high),l=p,o&&(p=o),e.next=12,a;case 12:o=e.sent,e.next=6;break;case 15:case"end":return e.stop();}},e,this)});return r.result=[],r.generator=a(e.step,e.max),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:o[t],low:n[t]});void 0!==a.value&&r.result.push(a.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(fe);tt.calculate=f;var rt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),ot=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.period,s=e.signalPeriod,u=r.format;if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,p,i,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new de(l,!0,!1),o=new de(l,!1,!0),n=new ye({period:s,values:[],format:function(e){return e}}),a=void 0,p=void 0,void(e.next=7);case 7:i=e.sent;case 8:if(r.push(i.high),o.push(i.low),!(t<l)){e.next=17;break}return t++,void(e.next=15);case 15:return i=e.sent,e.abrupt("continue",8);case 17:return h=o.periodLow,a=100*((i.close-h)/(r.periodHigh-h)),a=isNaN(a)?0:a,p=n.nextValue(a),e.next=23,{k:u(a),d:void 0===p?void 0:u(p)};case 23:i=e.sent,e.next=8;break;case 26:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!==l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(fe);ot.calculate=w;var nt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),at=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.period,s=r.format;if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new de(l,!0,!1),o=new de(l,!1,!0),n=void 0,a=void 0,void(e.next=7);case 7:u=e.sent,p=void 0;case 9:if(r.push(u.high),o.push(u.low),!(t<l)){e.next=18;break}return t++,void(e.next=16);case 16:return u=e.sent,e.abrupt("continue",9);case 18:return n=o.periodLow,a=r.periodHigh,p=s(-100*((a-u.close)/(a-n))),e.next=23,p;case 23:u=e.sent,e.next=9;break;case 26:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!==l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return this.format(t.value)}}]),t}(fe);at.calculate=y;var lt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),st=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high,n=e.low,a=e.close,l=e.volume;if(n.length!==o.length||o.length!==a.length||o.length!==l.length)throw"Inputs(low,high, close, volumes) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,void(e.next=3);case 3:r=e.sent;case 4:return o=(r.close-r.low-(r.high-r.close))/(r.high-r.low),o=isNaN(o)?1:o,n=o*r.volume,t+=n,e.next=11,Math.round(t);case 11:r=e.sent,e.next=4;break;case 14:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var o={high:e,low:n[t],close:a[t],volume:l[t]},s=r.generator.next(o);void 0!=s.value&&r.result.push(s.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);st.calculate=P;var ut=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),pt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.close,n=e.volume;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,void(e.next=3);case 3:if(r=e.sent,!(r.close&&"number"==typeof r.close)){e.next=9;break}return o=r.close,void(e.next=8);case 8:r=e.sent;case 9:return o<r.close?t+=r.volume:r.close<o&&(t-=r.volume),o=r.close,e.next=14,t;case 14:r=e.sent,e.next=9;break;case 17:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var a={close:o[t],volume:n[t]},l=r.generator.next(a);void 0!=l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);pt.calculate=k;var it=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),ht=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period,a=r.format,l=new Pe({period:n,values:[],format:function(e){return e}}),s=new Pe({period:n,values:[],format:function(e){return e}}),u=new Pe({period:n,values:[],format:function(e){return e}}),p=new Ye({period:1,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return r=l.nextValue(t),o=r?s.nextValue(r):void 0,n=o?u.nextValue(o):void 0,i=n?p.nextValue(n):void 0,e.next=10,i?a(i):void 0;case 10:t=e.sent,e.next=3;break;case 13:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(fe);ht.calculate=I;var gt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.period=1,e}return ie(t,e),t}(me),vt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.close,n=e.volume,a=e.period||1;if(n.length!==o.length)throw"Inputs(volume, close) not of equal size";var l=new Pe({values:[],period:a});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:return t=e.sent,void(e.next=5);case 5:r=e.sent,o=void 0;case 7:return o=(r.close-t.close)*r.volume,t=r,e.next=12,l.nextValue(o);case 12:r=e.sent,e.next=7;break;case 15:case"end":return e.stop();}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({close:o[t],volume:n[t]});void 0!=a.value&&r.result.push(a.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return t}}]),t}(fe);vt.calculate=O;var ct=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),dt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.period,s=r.format,u=new de(l),p=new ye({period:l,values:[],format:function(e){return e}});if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,s,i,h,g,v,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(r=(t.high+t.low+t.close)/3,u.push(r),o=p.nextValue(r),n=null,a=void 0,s=0,void 0==o){e.next=32;break}for(i=!0,h=!1,g=void 0,e.prev=14,v=u.iterator()[Symbol.iterator]();!(i=(c=v.next()).done);i=!0)d=c.value,s+=le(d-o);e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](14),h=!0,g=e.t0;case 22:e.prev=22,e.prev=23,!i&&v.return&&v.return();case 25:if(e.prev=25,!h){e.next=28;break}throw g;case 28:return e.finish(25);case 29:return e.finish(22);case 30:n=s/l,a=(r-o)/(0.015*n);case 32:return e.next=34,a;case 34:t=e.sent,e.next=3;break;case 37:case"end":return e.stop();}},e,this,[[14,18,22,30],[23,,25,29]])})(),r.generator.next(),o.forEach(function(e,t){var l=r.generator.next({high:n[t],low:o[t],close:a[t]});void 0!=l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return t}}]),t}(fe);dt.calculate=b;var _t=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),xt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high,n=e.low,a=e.fastPeriod,l=e.slowPeriod,s=new ye({values:[],period:l}),u=new ye({values:[],period:a});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return o=(r.high+r.low)/2,n=s.nextValue(o),a=u.nextValue(o),void 0!==n&&void 0!==a&&(t=a-n),e.next=10,t;case 10:r=e.sent,e.next=3;break;case 13:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var o={high:e,low:n[t]},a=r.generator.next(o);void 0!=a.value&&r.result.push(r.format(a.value))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return this.format(t.value)}}]),t}(fe);xt.calculate=V;var mt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),ft=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.low,n=e.high,a=e.close,l=e.volume,s=r.format;if(o.length!==n.length||n.length!==a.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=0,o=0;case 5:return n=(t.high+t.low+t.close)/3,a=t.volume*n,r+=a,o+=t.volume,e.next=12,r/o;case 12:t=e.sent,e.next=5;break;case 15:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var s=r.generator.next({high:n[t],low:o[t],close:a[t],volume:l[t]});void 0!=s.value&&r.result.push(s.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return t}}]),t}(fe);ft.calculate=C;var wt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),yt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high,n=e.low,a=e.close,l=e.open,s=e.volume,u=e.noOfBars;if(n.length!==o.length||o.length!==a.length||o.length!==s.length)throw"Inputs(low,high, close, volumes) not of equal size";r.result=[];for(var p=ae.apply(Math,ge(o).concat(ge(n),ge(a),ge(l))),h=ne.apply(Math,ge(o).concat(ge(n),ge(a),ge(l))),g=h,v=0;v<u;v++){var i=g,c=i+(p-h)/u;g=c;for(var d=0,_=0,x=0,m=0;m<o.length;m++){var f=n[m],w=o[m],y=l[m],P=a[m],k=s[m];S(i,c,f,w)&&(x+=k,y>P?_+=k:d+=k)}r.result.push({rangeStart:i,rangeEnd:c,bullishVolume:d,bearishVolume:_,totalVolume:x})}return r}return ie(t,e),pe(t,[{key:"nextValue",value:function(){throw"Next value not supported for volume profile"}}]),t}(fe);yt.calculate=q;var Pt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),kt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return e.next=6,(t.high+t.low+t.close)/3;case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop();}},e,this)})(),r.generator.next(),e.low.forEach(function(t,o){var n=r.generator.next({high:e.high[o],low:e.low[o],close:e.close[o]});r.result.push(n.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;return t}}]),t}(fe);kt.calculate=function(e){fe.reverseInputs(e);var t=new kt(e).result;return e.reversedInput&&t.reverse(),fe.reverseInputs(e),t};var It=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Ot=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high,n=e.low,a=e.close,l=e.volume,s=e.period,u=new kt({low:[],high:[],close:[]}),p=new de(s,!1,!1,!0),i=new de(s,!1,!1,!0);if(n.length!==o.length||o.length!==a.length||o.length!==l.length)throw"Inputs(low,high, close, volumes) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,a,l,h,g,v,c,d,_,x,m,f,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,g=null,v=null,void(e.next=5);case 5:return r=e.sent,o=r.close,void(e.next=9);case 9:r=e.sent;case 10:return c=r,d=c.high,_=c.low,x=c.close,m=c.volume,f=0,w=0,g=u.nextValue({high:d,low:_,close:x}),a=g*m,null!=g&&null!=v&&(g>v?f=a:w=a,p.push(f),i.push(w),n=p.periodSum,h=i.periodSum,p.totalPushed>=s&&p.totalPushed>=s&&(l=n/h,t=100-100/(1+l))),v=g,e.next=20,t;case 20:r=e.sent,e.next=10;break;case 23:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e,t){var o={high:e,low:n[t],close:a[t],volume:l[t]},s=r.generator.next(o);void 0!=s.value&&r.result.push(parseFloat(s.value.toFixed(2)))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return parseFloat(t.value.toFixed(2))}}]),t}(fe);Ot.calculate=E;var bt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Vt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.rsiPeriod,a=e.stochasticPeriod,l=e.kPeriod,s=e.dPeriod,u=r.format;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,o,u,p,i,h,g,v,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new Be({period:n,values:[]}),o=new ot({period:a,high:[],low:[],close:[],signalPeriod:l}),u=new ye({period:s,values:[],format:function(e){return e}}),p=void 0,i=void 0,h=void 0,g=void 0,void(e.next=7);case 7:v=e.sent;case 8:return p=r.nextValue(v),void 0!==p&&(c={high:p,low:p,close:p},i=o.nextValue(c),void 0!==i&&void 0!==i.d&&(h=u.nextValue(i.d),void 0!==h&&(g={stochRSI:i.k,k:i.d,d:h}))),e.next=13,g;case 13:v=e.sent,e.next=8;break;case 16:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(fe);Vt.calculate=A;var Ct=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),St=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period;r.result=[];var a=new de(n,!0,!1,!1);return r.generator=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return a.push(t),a.totalPushed>=n&&(r=a.periodHigh),e.next=8,r;case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);St.calculate=B;var qt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Et=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period;r.result=[];var a=new de(n,!1,!0,!1);return r.generator=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return a.push(t),a.totalPushed>=n&&(r=a.periodLow),e.next=8,r;case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);Et.calculate=H;var At=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Bt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.values,n=e.period;r.result=[];var a=new de(n,!1,!1,!0);return r.generator=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return a.push(t),a.totalPushed>=n&&(r=a.periodSum),e.next=8,r;case 8:t=e.sent,e.next=3;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),o.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(t.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);Bt.calculate=T;var Ht=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Tt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.format,n=e.useATR,a=e.brickSize||0;if(n){var l=_(Object.assign({},e));a=l[l.length-1]}if(r.result=new _e,0===a)return console.error("Not enough data to calculate brickSize for renko when using ATR"),he(r);var s=0,u=0,p=Infinity,i=0,h=0,g=0;return r.generator=regeneratorRuntime.mark(function e(){var t,r,o,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(0!=s){e.next=15;break}return s=t.close,u=t.high,p=t.low,i=t.close,h=t.volume,g=t.timestamp,void(e.next=13);case 13:return t=e.sent,e.abrupt("continue",3);case 15:if(r=le(t.close-i),o=le(t.close-s),!(r>=a&&o>=a)){e.next=30;break}return n=r>o?s:i,l={open:n,high:u>t.high?u:t.high,low:p<t.low?p:t.low,close:n>t.close?n-a:n+a,volume:h+t.volume,timestamp:t.timestamp},s=l.open,u=l.close,p=l.close,i=l.close,h=0,e.next=27,l;case 27:t=e.sent,e.next=37;break;case 30:return u=u>t.high?u:t.high,p=p<t.low?p:t.low,h+=t.volume,g=t.timestamp,void(e.next=36);case 36:t=e.sent;case 37:e.next=3;break;case 39:case"end":return e.stop();}},e,this)})(),r.generator.next(),e.low.forEach(function(t,o){var n=r.generator.next({open:e.open[o],high:e.high[o],low:e.low[o],close:e.close[o],volume:e.volume[o],timestamp:e.timestamp[o]});n.value&&(r.result.open.push(n.value.open),r.result.high.push(n.value.high),r.result.low.push(n.value.low),r.result.close.push(n.value.close),r.result.volume.push(n.value.volume),r.result.timestamp.push(n.value.timestamp))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(){return console.error("Cannot calculate next value on Renko, Every value has to be recomputed for every change, use calcualte method"),null}}]),t}(fe);Tt.calculate=D;var Dt=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Lt=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.format;r.result=new _e;var n=null,a=0,l=Infinity,s=0,u=0,p=0;return r.generator=regeneratorRuntime.mark(function e(){var t,r,o,i,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=null;case 4:return null==n?(n=(t.close+t.open)/2,a=t.high,l=t.low,s=(t.close+t.open+t.high+t.low)/4,u=t.volume||0,p=t.timestamp||0,r={open:n,high:a,low:l,close:s,volume:t.volume||0,timestamp:t.timestamp||0}):(o=(t.close+t.open+t.high+t.low)/4,i=(n+s)/2,h=ae(i,o,t.high),g=ne(t.low,i,o),r={close:o,open:i,high:h,low:g,volume:t.volume||0,timestamp:t.timestamp||0},s=o,n=i,a=h,l=g),e.next=8,r;case 8:t=e.sent,e.next=4;break;case 11:case"end":return e.stop();}},e,this)})(),r.generator.next(),e.low.forEach(function(t,o){var n=r.generator.next({open:e.open[o],high:e.high[o],low:e.low[o],close:e.close[o],volume:e.volume?e.volume[o]:e.volume,timestamp:e.timestamp?e.timestamp[o]:e.timestamp});n.value&&(r.result.open.push(n.value.open),r.result.high.push(n.value.high),r.result.low.push(n.value.low),r.result.close.push(n.value.close),r.result.volume.push(n.value.volume),r.result.timestamp.push(n.value.timestamp))}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;return t}}]),t}(fe);Lt.calculate=L;var zt,Mt,jt=function(){function e(){ue(this,e)}return pe(e,[{key:"approximateEqual",value:function(e,t){var r=1*parseFloat(le(e-t).toPrecision(4)),o=1*parseFloat((1e-3*e).toPrecision(4));return r<=o}},{key:"logic",value:function(){throw"this has to be implemented"}},{key:"getAllPatternIndex",value:function(e){var t=this;if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),[];e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse());var r=this.logic;return this._generateDataForCandleStick(e).map(function(e,o){return r.call(t,e)?o:void 0}).filter(function(e){return e})}},{key:"hasPattern",value:function(e){if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),!1;e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse());var t=this.logic;return t.call(this,this._getLastDataForCandleStick(e))}},{key:"_getLastDataForCandleStick",value:function(e){var t=this.requiredCount;if(e.close.length===t)return e;for(var r={open:[],high:[],low:[],close:[]},o=0,n=e.close.length-t;o<t;)r.open.push(e.open[n+o]),r.high.push(e.high[n+o]),r.low.push(e.low[n+o]),r.close.push(e.close[n+o]),o++;return r}},{key:"_generateDataForCandleStick",value:function(e){var t=this.requiredCount,r=e.close.map(function(r,o){for(var n=0,a={open:[],high:[],low:[],close:[]};n<t;)a.open.push(e.open[o+n]),a.high.push(e.high[o+n]),a.low.push(e.low[o+n]),a.close.push(e.close[o+n]),n++;return a}).filter(function(r,o){return o<=e.close.length-t});return r}}]),e}(),Rt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="MorningStar",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2];return r<t&&n>u&&n>s&&s<n&&u<n&&p>s&&l<p&&p<i&&i>(t+r)/2}}]),t}(jt),Ft=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishEngulfingPattern",e.requiredCount=2,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return r<t&&t>a&&r>a&&t<l}}]),t}(jt),Ut=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BullishHarami",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return t>a&&r<a&&r<l&&t>u&&o>s}}]),t}(jt),Wt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BullishHaramiCross",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=this.approximateEqual(a,l);return t>a&&r<a&&r<l&&t>u&&o>s&&p}}]),t}(jt),Kt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Doji",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=this.approximateEqual(t,r),l=a&&this.approximateEqual(t,o),s=a&&this.approximateEqual(r,n);return a&&l==s}}]),t}(jt),Gt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="MorningDojiStar",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2],v=new Kt().hasPattern({open:[a],close:[l],high:[s],low:[u]});return r<t&&v&&p<i&&s<n&&u<n&&p>s&&l<p&&i>(t+r)/2}}]),t}(jt),Nt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=3,e.name="DownsideTasukiGap",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2];return r<t&&l<a&&i>p&&s<n&&a>p&&l<p&&i>a&&i<r}}]),t}(jt),Xt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishMarubozu",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=this.approximateEqual(r,o)&&this.approximateEqual(n,t)&&t<r&&t<o;return a}}]),t}(jt),Jt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="PiercingLine",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return u<n&&r<t&&n>a&&l>(t+r)/2&&l>a}}]),t}(jt),Qt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ThreeWhiteSoldiers",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2];return s>o&&h>s&&t<r&&a<l&&p<i&&r>a&&a<o&&s>p&&p<l}}]),t}(jt),Yt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishHammerStick",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=r>t;return a=a&&this.approximateEqual(r,o),a=a&&r-t<=2*(t-n),a}}]),t}(jt),Zt=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishInvertedHammerStick",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=r>t;return a=a&&this.approximateEqual(t,n),a=a&&r-t<=2*(o-r),a}}]),t}(jt),$t=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishHammerStick",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=t>r;return a=a&&this.approximateEqual(t,o),a=a&&t-r<=2*(r-n),a}}]),t}(jt),er=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishInvertedHammerStick",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=t>r;return a=a&&this.approximateEqual(r,n),a=a&&t-r<=2*(o-t),a}}]),t}(jt),tr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="HammerPattern",e.requiredCount=5,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.downwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}},{key:"downwardTrend",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=p({values:e.close.slice(0,r),period:r-1}),n=i({values:e.close.slice(0,r),period:r-1});return n>o}},{key:"includesHammer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=t?4:void 0,n={open:e.open.slice(r,o),close:e.close.slice(r,o),low:e.low.slice(r,o),high:e.high.slice(r,o)},a=j(n);return a=a||R(n),a=a||z(n),a=a||M(n),a}},{key:"hasConfirmation",value:function(e){var t={open:e.open[3],close:e.close[3],low:e.low[3],high:e.high[3]},r={open:e.open[4],close:e.close[4],low:e.low[4],high:e.high[4]},o=r.open<r.close;return o&&t.close<r.close}}]),t}(jt),rr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="HammerPatternUnconfirmed",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.downwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}]),t}(tr),or=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="TweezerBottom",e.requiredCount=5,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){return this.downwardTrend(e)&&e.low[3]==e.low[4]}},{key:"downwardTrend",value:function(e){var t=p({values:e.close.slice(0,3),period:2}),r=i({values:e.close.slice(0,3),period:2});return r>t}}]),t}(jt),nr=[new Ft,new Nt,new Ut,new Wt,new Gt,new Rt,new Xt,new Jt,new Qt,new Yt,new Zt,new tr,new rr,new or],ar=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Bullish Candlesticks",e}return ie(t,e),pe(t,[{key:"hasPattern",value:function(e){return nr.reduce(function(t,r){var o=r.hasPattern(e);return t||o},!1)}}]),t}(jt),lr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishEngulfingPattern",e.requiredCount=2,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return r>t&&t<a&&r<a&&t>l}}]),t}(jt),sr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BearishHarami",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return t<a&&r>a&&r>l&&t<u&&o>s}}]),t}(jt),ur=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BearishHaramiCross",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=this.approximateEqual(a,l);return t<a&&r>a&&r>l&&t<u&&o>s&&p}}]),t}(jt),pr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="EveningDojiStar",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2],v=new Kt().hasPattern({open:[a],close:[l],high:[s],low:[u]});return r>t&&v&&s>o&&u>o&&p<u&&l>p&&p>i&&i<(t+r)/2}}]),t}(jt),ir=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="EveningStar",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2];return r>t&&o<u&&o<s&&s>o&&u>o&&p<u&&l>p&&p>i&&i<(t+r)/2}}]),t}(jt),hr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishMarubozu",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=this.approximateEqual(t,o)&&this.approximateEqual(n,r)&&t>r&&t>n;return a}}]),t}(jt),gr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ThreeBlackCrows",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2];return n>u&&u>g&&t>r&&a>l&&p>i&&t>a&&a>r&&a>p&&p>l}}]),t}(jt),vr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="HangingMan",e.requiredCount=5,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}},{key:"upwardTrend",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=p({values:e.close.slice(0,r),period:r-1}),n=i({values:e.close.slice(0,r),period:r-1});return o>n}},{key:"includesHammer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=t?4:void 0,n={open:e.open.slice(r,o),close:e.close.slice(r,o),low:e.low.slice(r,o),high:e.high.slice(r,o)},a=j(n);return a=a||z(n),a}},{key:"hasConfirmation",value:function(e){var t={open:e.open[3],close:e.close[3],low:e.low[3],high:e.high[3]},r={open:e.open[4],close:e.close[4],low:e.low[4],high:e.high[4]},o=r.open>r.close;return o&&t.close>r.close}}]),t}(jt),cr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="HangingManUnconfirmed",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}]),t}(vr),dr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ShootingStar",e.requiredCount=5,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}},{key:"upwardTrend",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=p({values:e.close.slice(0,r),period:r-1}),n=i({values:e.close.slice(0,r),period:r-1});return o>n}},{key:"includesHammer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,r=t?3:4,o=t?4:void 0,n={open:e.open.slice(r,o),close:e.close.slice(r,o),low:e.low.slice(r,o),high:e.high.slice(r,o)},a=R(n);return a=a||M(n),a}},{key:"hasConfirmation",value:function(e){var t={open:e.open[3],close:e.close[3],low:e.low[3],high:e.high[3]},r={open:e.open[4],close:e.close[4],low:e.low[4],high:e.high[4]},o=r.open>r.close;return o&&t.close>r.close}}]),t}(jt),_r=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ShootingStarUnconfirmed",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}]),t}(dr),xr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="TweezerTop",e.requiredCount=5,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){return this.upwardTrend(e)&&e.high[3]==e.high[4]}},{key:"upwardTrend",value:function(e){var t=p({values:e.close.slice(0,3),period:2}),r=i({values:e.close.slice(0,3),period:2});return t>r}}]),t}(jt),mr=[new lr,new sr,new ur,new pr,new ir,new hr,new gr,new $t,new er,new vr,new cr,new dr,new _r,new xr],fr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Bearish Candlesticks",e}return ie(t,e),pe(t,[{key:"hasPattern",value:function(e){return mr.reduce(function(t,r){return t||r.hasPattern(e)},!1)}}]),t}(jt),wr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="AbandonedBaby",e.requiredCount=3,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1],p=e.open[2],i=e.close[2],h=e.high[2],g=e.low[2],v=new Kt().hasPattern({open:[a],close:[l],high:[s],low:[u]});return r<t&&v&&s<n&&g>s&&i>p&&h<t}}]),t}(jt),yr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="DarkCloudCover",e.requiredCount=2,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=e.open[1],l=e.close[1],s=e.high[1],u=e.low[1];return r>t&&l<a&&a>o&&l<(r+t)/2&&l>t}}]),t}(jt),Pr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=1,e.name="DragonFlyDoji",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=this.approximateEqual(t,r),l=a&&this.approximateEqual(t,o),s=a&&this.approximateEqual(r,n);return a&&l&&!s}}]),t}(jt),kr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=1,e.name="GraveStoneDoji",e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=this.approximateEqual(t,r),l=a&&this.approximateEqual(t,o),s=a&&this.approximateEqual(r,n);return a&&s&&!l}}]),t}(jt),Ir=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishSpinningTop",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=le(r-t),l=le(o-r),s=le(t-n);return a<l&&a<s}}]),t}(jt),Or=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishSpinningTop",e.requiredCount=1,e}return ie(t,e),pe(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],o=e.high[0],n=e.low[0],a=le(r-t),l=le(o-t),s=le(o-n);return a<l&&a<s}}]),t}(jt),br=function(e,t,r,o){return new(r||(r=Promise))(function(n,a){function l(e){try{u(o.next(e))}catch(t){a(t)}}function s(e){try{u(o["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(l,s)}u((o=o.apply(e,t||[])).next())})},Vr=!1,Cr=["IHS","TU","DB","HS","TD","DT"];try{Vr="[object process]"===Object.prototype.toString.call(global.process)}catch(t){}(function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.values=e,r}return ie(t,e),t})(me);(function(e){e[e.IHS=0]="IHS",e[e.TU=1]="TU",e[e.DB=2]="DB",e[e.HS=3]="HS",e[e.TD=4]="TD",e[e.DT=5]="DT"})(e.AvailablePatterns||(e.AvailablePatterns={}));var Sr,qr=!1,Er=!1;W();var Ar=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(fe);Ar.predictPattern=K,Ar.hasDoubleBottom=G,Ar.hasDoubleTop=N,Ar.hasHeadAndShoulder=X,Ar.hasInverseHeadAndShoulder=J,Ar.isTrendingUp=Q,Ar.isTrendingDown=Y;var Br=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.conversionPeriod=9,e.basePeriod=26,e.spanPeriod=52,e.displacement=26,e}return ie(t,e),t}(me),Hr=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.result=[];var o=Object.assign({},{conversionPeriod:9,basePeriod:26,spanPeriod:52,displacement:26},e),n=new de(2*o.conversionPeriod,!0,!0,!1),a=new de(2*o.basePeriod,!0,!0,!1),l=new de(2*o.spanPeriod,!0,!0,!1);return r.generator=regeneratorRuntime.mark(function e(){var t,r,s,u,p,i,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,r=void 0,s=ae(o.conversionPeriod,o.basePeriod,o.spanPeriod,o.displacement),u=1,void(e.next=6);case 6:r=e.sent;case 7:return n.push(r.high),n.push(r.low),a.push(r.high),a.push(r.low),l.push(r.high),l.push(r.low),u<s?u++:(p=(n.periodHigh+n.periodLow)/2,i=(a.periodHigh+a.periodLow)/2,h=(p+i)/2,g=(l.periodHigh+l.periodLow)/2,t={conversion:p,base:i,spanA:h,spanB:g}),e.next=17,t;case 17:r=e.sent,e.next=7;break;case 20:case"end":return e.stop();}},e,this)})(),r.generator.next(),e.low.forEach(function(t,o){var n=r.generator.next({high:e.high[o],low:e.low[o]});n.value&&r.result.push(n.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(fe);Hr.calculate=Z;var Tr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.maPeriod=20,e.atrPeriod=10,e.useSMA=!1,e.multiplier=1,e}return ie(t,e),t}(me),Dr=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),Lr=function(e){function t(e){ue(this,t);var r,o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.useSMA?ye:Pe,a=new n({period:e.maPeriod,values:[],format:function(e){return e}}),l=new Je({period:e.atrPeriod,high:[],low:[],close:[],format:function(e){return e}});o.result=[],o.generator=regeneratorRuntime.mark(function t(){var o,n,s,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void(t.next=2);case 2:r=t.sent;case 3:return n=r,s=n.close,u=a.nextValue(s),p=l.nextValue(r),void 0!=u&&void 0!=p&&(o={middle:u,upper:u+e.multiplier*p,lower:u-e.multiplier*p}),t.next=10,o;case 10:r=t.sent,t.next=3;break;case 13:case"end":return t.stop();}},t,this)})(),o.generator.next();var s=e.high;return s.forEach(function(t,r){var n={high:t,low:e.low[r],close:e.close[r]},a=o.generator.next(n);void 0!=a.value&&o.result.push(a.value)}),o}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);Lr.calculate=$;var zr=function(e){function t(){ue(this,t);var e=he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.period=22,e.multiplier=3,e}return ie(t,e),t}(me),Mr=function(e){function t(){return ue(this,t),he(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),t}(me),jr=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=e.high,n=e.low,a=e.close;r.result=[];var l=new Je({period:e.period,high:[],low:[],close:[],format:function(e){return e}}),s=new de(2*e.period,!0,!0,!1);return r.generator=regeneratorRuntime.mark(function t(){var r,o,n,a,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void(t.next=2);case 2:o=t.sent;case 3:return a=o,u=a.high,p=a.low,s.push(u),s.push(p),n=l.nextValue(o),s.totalPushed>=2*e.period&&void 0!=n&&(r={exitLong:s.periodHigh-n*e.multiplier,exitShort:s.periodLow+n*e.multiplier}),t.next=11,r;case 11:o=t.sent,t.next=3;break;case 14:case"end":return t.stop();}},t,this)})(),r.generator.next(),o.forEach(function(e,t){var o={high:e,low:n[t],close:a[t]},l=r.generator.next(o);void 0!=l.value&&r.result.push(l.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!=t.value)return t.value}}]),t}(fe);jr.calculate=ee;var Rr=function(e){function t(e,r){ue(this,t);var o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.lineA=e,o.lineB=r,o}return ie(t,e),t}(me),Fr=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.lineA=e.lineA,r.lineB=e.lineB;var o=[],n=[],a=regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=!1;case 4:for(o.unshift(t.valueA),n.unshift(t.valueB),r=t.valueA>t.valueB,a=1;!0===r&&o[a]>=n[a];)o[a]>n[a]?r=!1:o[a]<n[a]?r=!0:o[a]===n[a]&&(a+=1);return!0===r&&(o=[t.valueA],n=[t.valueB]),e.next=13,r;case 13:t=e.sent,e.next=4;break;case 16:case"end":return e.stop();}},e,this)});return r.generator=a(),r.generator.next(),r.result=[],r.lineA.forEach(function(e,t){var o=r.generator.next({valueA:r.lineA[t],valueB:r.lineB[t]});void 0!==o.value&&r.result.push(o.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e,t){return this.generator.next({valueA:e,valueB:t}).value}}],[{key:"reverseInputs",value:function(e){e.reversedInput&&(e.lineA?e.lineA.reverse():void 0,e.lineB?e.lineB.reverse():void 0)}}]),t}(fe);Fr.calculate=te;var Ur=function(e){function t(e,r){ue(this,t);var o=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.lineA=e,o.lineB=r,o}return ie(t,e),t}(me),Wr=function(e){function t(e){ue(this,t);var r=he(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.lineA=e.lineA,r.lineB=e.lineB;var o=[],n=[],a=regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=!1;case 4:for(o.unshift(t.valueA),n.unshift(t.valueB),r=t.valueA<t.valueB,a=1;!0===r&&o[a]<=n[a];)o[a]<n[a]?r=!1:o[a]>n[a]?r=!0:o[a]===n[a]&&(a+=1);return!0===r&&(o=[t.valueA],n=[t.valueB]),e.next=13,r;case 13:t=e.sent,e.next=4;break;case 16:case"end":return e.stop();}},e,this)});return r.generator=a(),r.generator.next(),r.result=[],r.lineA.forEach(function(e,t){var o=r.generator.next({valueA:r.lineA[t],valueB:r.lineB[t]});void 0!==o.value&&r.result.push(o.value)}),r}return ie(t,e),pe(t,[{key:"nextValue",value:function(e,t){return this.generator.next({valueA:e,valueB:t}).value}}],[{key:"reverseInputs",value:function(e){e.reversedInput&&(e.lineA?e.lineA.reverse():void 0,e.lineB?e.lineB.reverse():void 0)}}]),t}(fe);Wr.calculate=re;var Kr=oe();e.getAvailableIndicators=oe,e.AvailableIndicators=Kr,e.FixedSizeLinkedList=de,e.CandleData=function e(){ue(this,e)},e.CandleList=_e,e.sma=o,e.SMA=ye,e.ema=n,e.EMA=Pe,e.wma=a,e.WMA=ke,e.wema=l,e.WEMA=Ie,e.wildersmoothing=s,e.WilderSmoothing=Oe,e.macd=u,e.MACD=Ve,e.rsi=h,e.RSI=Be,e.bollingerbands=v,e.BollingerBands=ze,e.adx=d,e.ADX=Ne,e.atr=_,e.ATR=Je,e.truerange=c,e.TrueRange=We,e.roc=x,e.ROC=Ye,e.kst=m,e.KST=$e,e.psar=f,e.PSAR=tt,e.stochastic=w,e.Stochastic=ot,e.williamsr=y,e.WilliamsR=at,e.adl=P,e.ADL=st,e.obv=k,e.OBV=pt,e.trix=I,e.TRIX=ht,e.forceindex=O,e.ForceIndex=vt,e.cci=b,e.CCI=dt,e.awesomeoscillator=V,e.AwesomeOscillator=xt,e.vwap=C,e.VWAP=ft,e.volumeprofile=q,e.VolumeProfile=yt,e.mfi=E,e.MFI=Ot,e.stochasticrsi=A,e.StochasticRSI=Vt,e.averagegain=p,e.AverageGain=Se,e.averageloss=i,e.AverageLoss=Ee,e.sd=g,e.SD=Te,e.highest=B,e.Highest=St,e.lowest=H,e.Lowest=Et,e.sum=T,e.Sum=Bt,e.renko=D,e.HeikinAshi=Lt,e.heikinashi=L,e.bullish=function(e){return new ar().hasPattern(e)},e.bearish=function(e){return new fr().hasPattern(e)},e.abandonedbaby=function(e){return new wr().hasPattern(e)},e.doji=function(e){return new Kt().hasPattern(e)},e.bearishengulfingpattern=function(e){return new lr().hasPattern(e)},e.bullishengulfingpattern=function(e){return new Ft().hasPattern(e)},e.darkcloudcover=function(e){return new yr().hasPattern(e)},e.downsidetasukigap=function(e){return new Nt().hasPattern(e)},e.dragonflydoji=function(e){return new Pr().hasPattern(e)},e.gravestonedoji=function(e){return new kr().hasPattern(e)},e.bullishharami=function(e){return new Ut().hasPattern(e)},e.bearishharami=function(e){return new sr().hasPattern(e)},e.bullishharamicross=function(e){return new Wt().hasPattern(e)},e.bearishharamicross=function(e){return new ur().hasPattern(e)},e.eveningdojistar=function(e){return new pr().hasPattern(e)},e.eveningstar=function(e){return new ir().hasPattern(e)},e.morningdojistar=function(e){return new Gt().hasPattern(e)},e.morningstar=function(e){return new Rt().hasPattern(e)},e.bullishmarubozu=function(e){return new Xt().hasPattern(e)},e.bearishmarubozu=function(e){return new hr().hasPattern(e)},e.piercingline=function(e){return new Jt().hasPattern(e)},e.bullishspinningtop=function(e){return new Ir().hasPattern(e)},e.bearishspinningtop=function(e){return new Or().hasPattern(e)},e.threeblackcrows=function(e){return new gr().hasPattern(e)},e.threewhitesoldiers=function(e){return new Qt().hasPattern(e)},e.bullishhammerstick=z,e.bearishhammerstick=j,e.bullishinvertedhammerstick=M,e.bearishinvertedhammerstick=R,e.hammerpattern=function(e){return new tr().hasPattern(e)},e.hammerpatternunconfirmed=function(e){return new rr().hasPattern(e)},e.hangingman=function(e){return new vr().hasPattern(e)},e.hangingmanunconfirmed=function(e){return new cr().hasPattern(e)},e.shootingstar=function(e){return new dr().hasPattern(e)},e.shootingstarunconfirmed=function(e){return new _r().hasPattern(e)},e.tweezertop=function(e){return new xr().hasPattern(e)},e.tweezerbottom=function(e){return new or().hasPattern(e)},e.fibonacciretracement=function(e,t){var r=[0,23.6,38.2,50,61.8,78.6,100,127.2,161.8,261.8,423.6],o=void 0;return o=e<t?r.map(function(r){var o=t-le(e-t)*r/100;return 0<o?o:0}):r.map(function(r){var o=t+le(e-t)*r/100;return 0<o?o:0}),o},e.predictPattern=K,e.PatternDetector=Ar,e.hasDoubleBottom=G,e.hasDoubleTop=N,e.hasHeadAndShoulder=X,e.hasInverseHeadAndShoulder=J,e.isTrendingUp=Q,e.isTrendingDown=Y,e.ichimokucloud=Z,e.IchimokuCloud=Hr,e.keltnerchannels=$,e.KeltnerChannels=Lr,e.KeltnerChannelsInput=Tr,e.KeltnerChannelsOutput=Dr,e.chandelierexit=ee,e.ChandelierExit=jr,e.ChandelierExitInput=zr,e.ChandelierExitOutput=Mr,e.crossUp=te,e.CrossUp=Fr,e.crossDown=re,e.CrossDown=Wr,e.setConfig=function(e,t){xe[e]=t},e.getConfig=t})(this.window=this.window||{});
